clear, clc
%% Insert provided data below:
A = [-0.30000000 0.30000000 0.70000000; -0.70000000 -0.30000000 0.80000000; -0.90000000 0.20000000 0.90000000];
B = [-0.20000000; -0.20000000; 0.00000000];
K = [-36.51232140 2.56232140 106.58239800];
Q = [0.49000000 0.00000000 0.00000000; 0.00000000 0.02000000 0.00000000; 0.00000000 0.00000000 0.07000000];
R = [0.78000000];
t0 = 0.10000000;
x0 = [0.47000000; -0.33000000; 0.93000000];

%% Calculations -- do not modify
syms t real
x = expm((A-B*K)*(t-t0))*x0;
u = -K*x;
f = x'*Q*x + u'*R*u;

t_int = linspace(t0*1.01, 100, 10000);
cost = 0;
for i = 1:length(t_int)
    cost = subs(f, t, t_int(i)) + cost;
    disp(cost)
end

%cost = int((x'*Q*x + u'*R*u), t, t0, 1000);

cost = vpa(cost,5)